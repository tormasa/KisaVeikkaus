!function(){let e,t=new XMLHttpRequest;t.open("GET","https://api.jsonbin.io/b/60a5fd9c4e1de86b45d25e16/2"),t.responseType="json",t.send();let n=[];function a(e){document.getElementById("mainBlock").style.display="none",document.getElementById("alkulohkoBlock").style.display="none",document.getElementById("puolivalieratBlock").style.display="none",document.getElementById("valieratBlock").style.display="none",document.getElementById("finaaliBlock").style.display="none",document.getElementById("mestariBlock").style.display="none",document.getElementById("maalintekijatBlock").style.display="none",document.getElementById(e).style.display="block","mainBlock"==e&&(document.getElementById("sendLog").innerText="")}function l(){a("alkulohkoBlock"),document.getElementById("groupError").innerText=" "}function r(){var t=document.getElementById("groupForm").elements;n=[];for(var l=0;l<t.length;l++)t[l].checked&&n.push(t[l].name);var r=n.length;if(r<16)document.getElementById("groupError").innerText="LIIAN VÄHÄN VALITTUJA JOUKKUEITA!";else if(r>16)document.getElementById("groupError").innerText="LIIAN PALJON VALITTUJA JOUKKUEITA!";else{var i=e.teams,c=!0;for(l=0;l<6;l++){for(var s=0,d=0;d<t.length;d++)if(t[d].checked)for(var m=0;m<i.length;m++)if(i[m].teamID==t[d].value){i[m].lohko==(l+10).toString(36).toUpperCase()&&s++;break}if(s>3){document.getElementById("groupError").innerText="YHDESTÄ LOHKOSTA VOI PÄÄSTÄ JATKOON VAIN KOLME PARASTA!",c=!1;break}}c&&(a("mainBlock"),o(!0,"alkulohko"))}}function o(e,t){var n=document.getElementById(t+"CheckConfirm");n.style=e?"display:inline-block":"display:none"}function i(){a("puolivalieratBlock")}function s(){a("valieratBlock")}function d(){a("finaaliBlock")}function m(){a("mestariBlock")}function u(){var e="puolivalierat";E(e,8),o(!0,e)}function g(){var e="valierat";E(e,4),o(!0,e)}function h(){var e="finaali";E(e,2),o(!0,e)}function v(){var e="mestari";E(e,1),o(!0,e)}function E(e,t){for(var n=document.getElementById(e+"Form").elements,l=0,r=0;r<n.length;r++)n[r].checked&&l++;l==t&&a("mainBlock")}function p(){a("maalintekijatBlock")}function f(){document.getElementById("sendLog").innerText="";(function(){if(document.getElementById("veikkaajanNimi").value.length<1)return document.getElementById("sendLog").innerText="Nimi puuttuu!",!1;return!0})()&&function(){if(document.getElementById("ryhmaTunnus").value.length<1)return document.getElementById("sendLog").innerText="Tunnus puuttuu!",!1;return!0}()&&function(){if(16!=n.length)return document.getElementById("sendLog").innerText="Alkulohkoveikkaukset puuttuu!",!1;return!0}()&&function(){for(var e=document.getElementById("puolivalieratForm").elements,t=0,n=0;n<e.length;n++)e[n].checked&&t++;if(8!=t)return document.getElementById("sendLog").innerText="Valitse 8 puolivälieräjoukkuetta!",!1;return!0}()&&function(){for(var e=document.getElementById("valieratForm").elements,t=0,n=0;n<e.length;n++)e[n].checked&&t++;if(4!=t)return document.getElementById("sendLog").innerText="Valitse 4 välieräjoukkuetta!",!1;return!0}()&&function(){for(var e=document.getElementById("finaaliForm").elements,t=0,n=0;n<e.length;n++)e[n].checked&&t++;if(2!=t)return document.getElementById("sendLog").innerText="Valitse 2 finaalijoukkuetta!",!1;return!0}()&&function(){for(var e=document.getElementById("mestariForm").elements,t=0,n=0;n<e.length;n++)e[n].checked&&t++;if(1!=t)return document.getElementById("sendLog").innerText="Valitse mestari!",!1}();var e={};e.name=document.getElementById("veikkaajanNimi").value,e.group=document.getElementById("ryhmaTunnus").value;for(var t=[],a=0;a<n.length;a++){var l={};l.groupQualTeam=n[a],t.push(l)}e.groupQualifiers=t;var r=[],o=document.getElementById("puolivalieratForm").elements;for(a=0;a<o.length;a++){if(o[a].checked)(d={}).quarterTeam=o[a].name,r.push(d)}e.quarterFinal=r;var i=[];for(o=document.getElementById("valieratForm").elements,a=0;a<o.length;a++){if(o[a].checked)(d={}).semiFinalTeam=o[a].name,i.push(d)}e.semiFinal=i;var c=[];for(o=document.getElementById("finaaliForm").elements,a=0;a<o.length;a++){if(o[a].checked)(d={}).finalTeam=o[a].name,c.push(d)}e.final=c;var s=[];for(o=document.getElementById("mestariForm").elements,a=0;a<o.length;a++){var d;if(o[a].checked)(d={}).champion=o[a].name,s.push(d)}e.champion=s,console.log(JSON.stringify(e));var m=new XMLHttpRequest;m.open("POST","https://emkisaveikkaus.com/lahetys.php",!0),m.setRequestHeader("Content-type","application/json"),m.send(JSON.stringify(e))}function k(e){switch(e){case"A":return 1;case"B":return 2;case"C":return 3;case"D":return 4;case"E":return 5;default:return-1}}function y(t){const n=e.teams;var a=document.getElementById(t+"Block"),l=document.createElement("FORM");l.id=t+"Form",a.appendChild(l);var r=document.createElement("div");r.className="team-selection",l.appendChild(r);for(var o=0;o<n.length;o++){var i=document.createElement("div"),c=document.createElement("label"),s=document.createElement("INPUT"),d=document.createElement("span");d.innerHTML=n[o].name,s.setAttribute("type","checkbox"),s.setAttribute("name",n[o].name),s.value=n[o].teamID,i.id="ck-button",c.appendChild(s),c.appendChild(d),i.appendChild(c),r.appendChild(i)}var m=document.createElement("div");m.className="team-selection-button-container",l.appendChild(m);var E=document.createElement("BUTTON");E.innerHTML="Hyväksy",E.className="send-button",E.type="button",m.appendChild(E),"puolivalierat"==t?E.addEventListener("click",u):"valierat"==t?E.addEventListener("click",g):"finaali"==t?E.addEventListener("click",h):"mestari"==t&&E.addEventListener("click",v)}function B(e){for(var t=[],n=document.getElementsByClassName("select-items"),a=document.getElementsByClassName("select-selected"),l=0;l<a.length;l++)e==a[l]?t.push(l):a[l].classList.remove("select-arrow-active");for(l=0;l<n.length;l++)t.indexOf(l)&&n[l].classList.add("select-hide")}function I(e){for(var t=document.getElementsByClassName("selected-scorer-country"),n=0;n<t.length;n++)t[n].className="unselected-scorer-country";document.getElementById("scorers"+e).className="selected-scorer-country"}t.onload=function(){e=t.response;for(var n=0;n<6;n++);!function(){const t=e.teams,n=document.getElementById("alkulohkoTeams");for(var a=[],l=0;l<6;l++){var r=document.createElement("div");r.innerHTML="LOHKO "+(l+10).toString(36).toUpperCase(),r.className="alkulohko-header",n.appendChild(r),a.push(r)}for(l=0;l<t.length;l++){var o=document.createElement("div"),i=document.createElement("label"),c=document.createElement("INPUT"),s=document.createElement("span");s.innerHTML=t[l].name,c.setAttribute("type","checkbox"),c.setAttribute("name",t[l].name),c.value=t[l].teamID,o.id="ck-button",i.appendChild(c),i.appendChild(s),o.appendChild(i);var d=k(t[l].lohko);d<0?n.appendChild(o):n.insertBefore(o,a[d])}}(),y("puolivalierat"),y("valierat"),y("finaali"),y("mestari"),function(){var t=e.teams;t.sort(((e,t)=>e.name>t.name?1:t.name>e.name?-1:0));for(var n=0;n<t.length;n++){var a=document.createElement("option");a.innerHTML=t[n].name,a.value=n+1,document.getElementById("scorerParent").appendChild(a)}var l=document.getElementsByClassName("custom-select"),r=l.length;for(n=0;n<r;n++){selElmnt=l[n].getElementsByTagName("select")[0];var o=selElmnt.length,i=document.createElement("DIV");for(i.setAttribute("class","select-selected"),i.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,l[n].appendChild(i),b=document.createElement("DIV"),b.setAttribute("class","select-items select-hide"),j=1;j<o;j++)c=document.createElement("DIV"),c.innerHTML=selElmnt.options[j].innerHTML,c.addEventListener("click",(function(e){var t,n,a,l,r,o,i;for(o=(l=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,r=this.parentNode.previousSibling,n=0;n<o;n++)if(l.options[n].innerHTML==this.innerHTML){for(l.selectedIndex=n,r.innerHTML=this.innerHTML,i=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,a=0;a<i;a++)t[a].removeAttribute("class");this.setAttribute("class","same-as-selected"),I(this.innerHTML);break}r.click()})),b.appendChild(c);l[n].appendChild(b),i.addEventListener("click",(function(e){e.stopPropagation(),B(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}for(var s=document.getElementById("maalintekijatBlock"),d=0;d<t.length;d++){var m=t[d].players,u=document.createElement("div");u.id="scorers"+t[d].name,u.className="unselected-scorer-country",s.appendChild(u);for(var g=0;g<m.length;g++){var h=document.createElement("button");h.innerHTML=m[g].firstName+" "+m[g].lastName,h.className="scorer-button",u.appendChild(h),h.addEventListener("click",(function(e){if("scorer-button"==this.className){(t=document.getElementsByClassName("selected-scorers-button-unselected")).length>0&&(t[0].innerHTML=this.innerHTML,t[0].className="selected-scorers-button",this.className="scorer-button-selected")}else{for(var t=document.getElementsByClassName("selected-scorers-button"),n=0;n<t.length;n++)if(t[n].innerHTML==this.innerHTML){t[n].innerHTML="Ei valintaa",t[n].className="selected-scorers-button-unselected";break}this.className="scorer-button"}}))}}}(),document.getElementById("alkulohkoButton").addEventListener("click",l),document.getElementById("backButtonAlkulohko").addEventListener("click",r),document.getElementById("puolivalieratButton").addEventListener("click",i),document.getElementById("valieratButton").addEventListener("click",s),document.getElementById("finaaliButton").addEventListener("click",d),document.getElementById("mestariButton").addEventListener("click",m),document.getElementById("maalintekijatButton").addEventListener("click",p),document.getElementById("sendButton").addEventListener("click",f);var u=document.getElementsByClassName("selected-scorers-button-unselected");for(n=0;n<u.length;n++)u[n].addEventListener("click",(function(e){if("selected-scorers-button"==this.className){for(var t=document.getElementsByClassName("scorer-button-selected"),n=0;n<t.length;n++)if(t[n].innerHTML==this.innerHTML){t[n].className="scorer-button";break}this.innerHTML="Ei valintaa",this.className="selected-scorers-button-unselected"}}));document.getElementById("confirmGoalScorers").addEventListener("click",(function(e){var t=document.getElementsByClassName("selected-scorers-button-unselected");if(0==t.length){for(var n=0;n<t.length;n++)for(var l=0;l<t.length;l++)if(l!=n&&t[l].innerHTML==t[n].innerHTML)return 0;a("mainBlock"),o(!0,"maalintekijat")}})),document.addEventListener("click",B)},a("mainBlock")}();
//# sourceMappingURL=index.88ad633e.js.map
